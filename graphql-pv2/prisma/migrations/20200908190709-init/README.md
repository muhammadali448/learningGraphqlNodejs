# Migration `20200908190709-init`

This migration has been generated by cq-m-ali at 9/9/2020, 12:07:09 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "dev"."Profile" (
"bio" text   ,
"authorId" integer   ,
"id" SERIAL,
"user" integer   NOT NULL ,
PRIMARY KEY ("id")
)

CREATE UNIQUE INDEX "Profile.user_unique" ON "dev"."Profile"("user")

ALTER TABLE "dev"."Profile" ADD FOREIGN KEY ("user")REFERENCES "dev"."User"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200908172926-init..20200908190709-init
--- datamodel.dml
+++ datamodel.dml
@@ -3,15 +3,16 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model User {
   email String  @unique
   id    Int     @default(autoincrement()) @id
   name  String?
+  profile Profile?
   posts Post[]
 }
 model Post {
@@ -20,5 +21,13 @@
   id        Int     @default(autoincrement()) @id
   published Boolean @default(false)
   title     String
   author    User?   @relation(fields: [authorId], references: [id])
+}
+
+model Profile {
+  bio  String?
+  authorId  Int?
+  id   Int     @default(autoincrement()) @id
+  user Int     @unique
+  User User    @relation(fields: [user], references: [id])
 }
```


